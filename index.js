module.exports=function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,t),this._log=[],this._limit=e.limit||100}return o(t,[{key:"import",value:function(t){var e=this,i=void 0;if(!((i="string"==typeof t?JSON.parse(t):t)instanceof Array))throw new Error("Argument to import must be in array form whether stringified or parsed.");return i.forEach(function(t,i){var n=Object.keys(t);if(!n.includes("id")||!n.includes("timestamp")||!n.includes("data"))throw new Error("Check the shape of the item at index "+i+' of imported array.\nIt must include the keys "id", "data", and "timestamp".');e._log.push(t)}),this._log.sort(function(t,e){return e.id-t.id}),this._log=this._log.slice(0,this._limit),this.toArray()}},{key:"insert",value:function(t){if(!t||"object"!==(void 0===t?"undefined":r(t))&&"string"!=typeof t||"string"==typeof t&&0===t.length)throw new Error("Item must be an object or non-empty string");var e=new Date,i=this._log,n=[{id:e.getTime(),timestamp:e.toISOString(),data:t}].concat(i);return this._log=n.slice(0,this._limit),i}},{key:"limit",value:function(){return this._limit}},{key:"newest",value:function(){return this._log[0]}},{key:"oldest",value:function(){return this._log[this._log.length-1]}},{key:"serialize",value:function(t,e){return JSON.stringify(this._log.slice(t,e))}},{key:"setLimit",value:function(t){if("number"!=typeof t||t<1)throw new Error("newLimit must be a positive number");return this._limit=Math.floor(t),this._log=this._log.slice(0,this._limit),this._limit}},{key:"size",value:function(){return this._log.length}},{key:"toArray",value:function(t,e){return this._log.slice(t,e)}}]),t}();t.exports=u}]);